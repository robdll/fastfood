const STORAGE_KEY = 'fastfood-lang'

export const SUPPORTED_LANGS = ['en', 'it']
export const DEFAULT_LANG = 'it'

export const translations = {
  en: {
    common: {
      brand: 'FastFood',
      goToApp: 'Go to app',
      enterApp: 'Enter the app',
      backToLanding: 'Back to landing',
      back: 'Back',
      loading: 'Loading…',
      userMenu: 'User menu',
      logout: 'Log out',
      logoutSuccess: 'Logged out.',
      logoutError: 'Unable to log out.',
      profileError: 'Unable to load your profile.',
      language: 'Language',
      languageChanged: 'Language updated.',
    },
    health: {
      title: 'API health',
      description: 'Quick sanity check that the frontend can reach the backend.',
      loading: 'Loading…',
    },
    landing: {
      heroTitleLine1: 'Online ordering',
      heroTitleLine2: 'for fast-food restaurants.',
      heroSubtitle:
        'FastFood is a web app that supports the full ordering flow: customers browse a restaurant menu, build a cart, place orders and track status updates; restaurateurs manage menu items and process incoming orders.',
      bullets: [
        'Simple, bold UI with a neobrutalist style.',
        'Backend-first data model exposed via REST APIs.',
        'Clear separation between structure (React) and styling (CSS).',
      ],
      previewLabel: 'Project preview',
      sectionLabel: 'Status and info',
      whatsNextTitle: "What's next",
      whatsNextBody:
        'This is just the landing. The “real app” area is currently a stub so you can already navigate via the CTA.',
      whatsNextList: [
        'Auth (customer / restaurateur)',
        'Menu + cart + order status',
        'Restaurant management and deliveries',
      ],
    },
    footer: {
      copyright: 'Copyright reserved. Student Roberto Di Lillo, Mat. 908918',
    },
    appStub: {
      title: 'App area (stub)',
      body:
        'This route exists so the landing CTA has somewhere real to go. We’ll replace this with the actual app screens later.',
    },
    auth: {
      title: 'Account access',
      subtitle: 'Register as a customer, restaurateur, or both.',
      modeLabel: 'Auth mode',
      signIn: 'Sign in',
      signUp: 'Sign up',
      firstName: 'First name',
      lastName: 'Last name',
      email: 'Email',
      password: 'Password',
      roleLegend: 'User type',
      roleClient: 'Customer',
      roleRestaurant: 'Restaurateur',
      roleHint: 'Select at least one type.',
      clientData: 'Customer details',
      paymentMethod: 'Payment method',
      preferences: 'Preferences',
      paymentSelectPlaceholder: 'Select a payment method',
      paymentDelivery: 'On delivery',
      paymentCards: 'Credit cards',
      paymentCoupons: 'Coupons',
      preferencePromo: 'Restaurant with promo',
      preferencePromoHint: 'Highlight restaurants with active promotions.',
      preferenceCheapest: 'Cheapest item',
      preferenceCheapestHint: 'Surface the most affordable menu items first.',
      preferencePopular: 'Most requested product',
      preferencePopularHint: 'Show top ordered products more prominently.',
      restaurateurData: 'Restaurant details',
      restaurantName: 'Restaurant name',
      restaurantPhone: 'Phone',
      vat: 'VAT number',
      restaurantAddress: 'Restaurant address',
      restaurantAddressSearchPlaceholder: 'Search address',
      restaurantAddressSearchAction: 'Search',
      restaurantAddressMapHint: 'Click on the map to pick the address.',
      restaurantAddressNoResults: 'No addresses found.',
      restaurantAddressSearchError: 'Unable to search the address right now.',
      restaurantAddressReverseError: 'Unable to resolve the selected point.',
      submitCreate: 'Create account',
      submitSignIn: 'Sign in',
      signupToast: 'Signup succeeded. You can log in now.',
      signupError: 'Unable to create the account right now.',
      signinError: 'Unable to sign in right now.',
    },
    dashboard: {
      title: 'Dashboard',
      body: 'You are authenticated. Customer/restaurateur flows will land here.',
      clientTitle: 'Customer dashboard',
      clientBody: 'You are in the customer dashboard area.',
      restaurantTitle: 'Restaurateur dashboard',
      restaurantBody: 'You are in the restaurateur dashboard area.',
      menuTitle: 'Menu',
      menuBody: 'Track the dishes currently available in your menu.',
      menuAction: 'Manage menu',
      ordersTitle: 'Orders',
      ordersBody: 'Incoming orders and status updates are coming next.',
      ordersAction: 'Coming soon',
      menuLoading: 'Loading menu…',
      menuEmpty: 'No menu items yet.',
      menuError: 'Unable to load the menu.',
      menuAddButton: 'Add dishes',
      menuAddTitle: 'Add dishes to menu',
      menuAddDescription: 'Select a dish from the catalog to add it.',
      menuAddLoading: 'Loading dishes…',
      menuAddEmpty: 'No dishes available right now.',
      menuAddAlready: 'Already in menu',
      menuAddPrice: 'Price',
      menuAddPhoto: 'Photo (required)',
      menuAddPhotoHint: 'Drag an image here or click to browse.',
      menuAddMissingPrice: 'Add a price for each selected dish.',
      menuAddMissingPhoto: 'Add a photo for each selected dish.',
      menuAddStatus: 'Status',
      menuAddSelect: 'Select',
      menuAddSelected: 'Selected',
      menuAddFormHint: 'Set price, category, and upload a photo.',
      menuAddAllAdded: 'All catalog dishes are already in your menu.',
      menuAddSuccess: 'Dish added to the menu.',
      menuAddIngredients: 'Ingredients',
      menuAddIngredientsHint: 'Uncheck ingredients to remove them.',
      menuAddConfirm: 'Add selected',
      menuAddSaving: 'Saving…',
      menuAddCancel: 'Cancel',
      menuAddError: 'Unable to load dishes.',
      menuAddSaveError: 'Unable to update the menu.',
      menuCreateAction: 'Create dish',
      menuCreateTitle: 'Create a new dish',
      menuCreateDescription: 'Add a custom dish and include it in your menu.',
      menuCreateBreadcrumb: 'Create your own',
      menuCreateName: 'Name',
      menuCreateIngredients: 'Ingredients',
      menuCreateIngredientsHint: 'Pick ingredients and review them below.',
      menuCreateAddIngredient: 'Ingredient',
      menuCreateSubmit: 'Create dish',
      menuCreateMissingName: 'Add a name for the dish.',
      menuCreateMissingCategory: 'Select a category for the dish.',
      menuCreateMissingIngredients: 'Add at least one ingredient.',
      menuCreateError: 'Unable to create the dish.',
      menuCreateSuccess: 'Dish created and added to the menu.',
      menuTableName: 'Name',
      menuTableType: 'Category',
      menuTablePrice: 'Price',
      menuTableOrigin: 'Origin',
      menuTableImage: 'Image',
      menuTableActions: 'Actions',
      menuTablePrev: 'Previous',
      menuTableNext: 'Next',
      menuTablePage: 'Page',
      menuTableOf: 'of',
      menuNoImage: 'No image',
      menuDetailClose: 'Close',
      menuDetailPrice: 'Price',
      menuDetailType: 'Type',
      menuDetailOrigin: 'Origin',
      menuDetailCategory: 'Category',
      menuDetailTitle: 'Dish details',
      menuDetailBody: 'Review details and update price or photo.',
      menuDetailBack: 'Back to menu',
      menuDetailNotFound: 'Dish not found in your menu.',
      menuDetailUpdateTitle: 'Update dish info',
      menuDetailUpdatePrice: 'Price',
      menuDetailUpdatePhoto: 'Photo',
      menuDetailUpdatePhotoHint: 'Drag an image here or click to browse.',
      menuDetailUpdateAction: 'Update dish',
      menuDetailUpdateSaving: 'Updating…',
      menuDetailUpdateError: 'Unable to update the dish.',
      menuDetailUpdateSuccess: 'Dish updated successfully.',
      menuDetailDeleteAction: 'Delete dish',
      menuDetailDeleteSaving: 'Deleting…',
      menuDetailIngredients: 'Ingredients',
      menuDetailIngredientsHint: 'Uncheck ingredients to remove them.',
      menuDeleteAction: 'Delete dish',
      menuDeleteTitle: 'Delete this dish?',
      menuDeleteDescription:
        'This will remove the dish from your menu. You can add it again later.',
      menuDeleteConfirm: 'Delete dish',
      menuDeleteCancel: 'Cancel',
      menuDeleteSuccess: 'Dish removed from the menu.',
      menuDeleteError: 'Unable to remove the dish.',
      menuOriginCatalog: 'Catalog',
      menuOriginCustom: 'Custom',
      menuTypeCatalog: 'Catalog',
      menuTypeCustom: 'Custom',
      switchToRestaurant: 'Switch to restaurateur',
      switchToClient: 'Switch to customer',
    },
    clientDashboard: {
      searchTitle: 'Restaurant search',
      searchBody: 'Browse available restaurants and open their menus.',
      searchAction: 'Browse restaurants',
      ordersTitle: 'Orders',
      ordersBody: 'Review your orders and track status updates.',
      ordersAction: 'View orders',
      cartTitle: 'Cart',
      cartBody: 'Review items in your cart before checkout.',
      cartAction: 'Go to cart',
    },
    clientRestaurants: {
      title: 'Restaurant search',
      body: 'Select a restaurant to explore its menu.',
      loading: 'Loading restaurants…',
      error: 'Unable to load restaurants.',
      tableName: 'Restaurant',
      tableAddress: 'Address',
      tablePhone: 'Phone',
      tableActions: 'Actions',
      viewMenu: 'Open menu',
      empty: 'No restaurants available right now.',
    },
    clientMenu: {
      title: 'Restaurant menu',
      body: 'Browse the menu items below.',
      notFound: 'Restaurant not found.',
      unknownRestaurant: 'Restaurant menu',
      goToCart: 'Go to cart',
      loading: 'Loading menu…',
      error: 'Unable to load restaurant.',
      menuError: 'Unable to load menu.',
      tableActions: 'Add',
      addToCart: 'Add to cart',
      addedToCart: '{name} added to cart.',
      empty: 'No menu items available yet.',
      backToRestaurants: 'Back to restaurants',
    },
    clientCart: {
      title: 'Cart',
      body: 'Review the requested items.',
      tableRestaurant: 'Restaurant',
      tableItem: 'Item',
      tableQty: 'Qty',
      tablePrice: 'Price',
      tableTotal: 'Total',
      empty: 'Your cart is empty.',
      subtotal: 'Subtotal',
      increaseQty: 'Increase quantity',
      decreaseQty: 'Decrease quantity',
      checkoutTitle: 'Complete purchase',
      checkoutBody: 'Select payment method and delivery option.',
      recapTitle: 'Order recap',
      recapSubtotal: 'Items subtotal',
      recapDeliveryFee: 'Delivery fee',
      recapTotal: 'Total',
      recapEta: 'Expected delivery time',
      recapEtaMinutes: '{minutes} min',
      recapEtaPickup: '30 min',
      paymentMethod: 'Payment method',
      deliveryMethod: 'Order type',
      deliveryOption: 'Delivery',
      pickupOption: 'To go',
      deliveryAddress: 'Delivery address',
      deliveryAddressRequired: 'Delivery address is required.',
      checkoutAction: 'Complete purchase',
      checkoutSuccess: 'Order placed successfully.',
      removeTitle: 'Remove item?',
      removeDescription: 'Do you want to remove this item from your order?',
      removeConfirm: 'Remove item',
      removeCancel: 'Keep item',
    },
    clientOrders: {
      title: 'Orders',
      body: 'Review recent orders and their current status.',
      empty: 'No orders yet.',
      placedOn: 'Placed on {date}',
      unknownRestaurant: 'Restaurant',
      orderType: 'Order type',
      typeDelivery: 'Delivery',
      typePickup: 'Pickup',
      deliveryFee: 'Delivery fee',
      eta: 'ETA',
      etaMinutes: '{minutes} min',
      total: 'Total',
      itemsTitle: 'Items',
      statusPreparation: 'Preparation',
      statusReadyForPickup: 'Ready for pickup',
      statusDelivered: 'Delivered',
    },
    settings: {
      title: 'User settings',
      subtitle: 'Update your profile details and add extra roles.',
      loading: 'Loading your profile...',
      backToDashboard: 'Back to dashboard',
      roleLegend: 'User type',
      roleHint: 'Existing roles are locked. You can add another one.',
      submit: 'Save changes',
      updateSuccess: 'Profile updated.',
      updateError: 'Unable to update the profile right now.',
      deleteProfile: 'Delete profile',
      deleteProfileTitle: 'Delete your profile?',
      deleteProfileDescription:
        'This will deactivate your account and log you out. You can no longer sign in.',
      deleteProfileConfirm: 'Delete profile',
      deleteProfileCancel: 'Cancel',
      deleteSuccess: 'Profile deactivated.',
      deleteError: 'Unable to delete the profile right now.',
    },
  },
  it: {
    common: {
      brand: 'FastFood',
      goToApp: "Vai all'app",
      enterApp: "Entra nell'app",
      backToLanding: 'Torna alla landing',
      back: 'Indietro',
      loading: 'Caricamento…',
      userMenu: 'Menu utente',
      logout: 'Esci',
      logoutSuccess: 'Logout completato.',
      logoutError: 'Impossibile uscire al momento.',
      profileError: 'Impossibile caricare il profilo.',
      language: 'Lingua',
      languageChanged: 'Lingua aggiornata.',
    },
    health: {
      title: 'Stato API',
      description:
        'Controllo rapido per verificare che il frontend raggiunga il backend.',
      loading: 'Caricamento…',
    },
    landing: {
      heroTitleLine1: 'Ordini online',
      heroTitleLine2: 'per ristoranti fast-food.',
      heroSubtitle:
        'FastFood è una web app che supporta tutto il flusso d’ordine: i clienti sfogliano il menu, creano un carrello, effettuano ordini e seguono lo stato; i ristoratori gestiscono i piatti e processano gli ordini in arrivo.',
      bullets: [
        'UI semplice e decisa con stile neobrutalist.',
        'Modello dati backend-first esposto via API REST.',
        'Separazione chiara tra struttura (React) e stile (CSS).',
      ],
      previewLabel: 'Anteprima progetto',
      sectionLabel: 'Stato e info',
      whatsNextTitle: 'Cosa c’è dopo',
      whatsNextBody:
        "Questa è solo la landing. L’area “app vera” è una bozza, così puoi già navigare dalla CTA.",
      whatsNextList: [
        'Auth (cliente / ristoratore)',
        'Menu + carrello + stato ordine',
        'Gestione ristoranti e consegne',
      ],
    },
    footer: {
      copyright: 'Copyright reserved. Student Roberto Di Lillo, Mat. 908918',
    },
    appStub: {
      title: 'Area app (bozza)',
      body:
        'Questa route esiste così la CTA della landing ha una destinazione reale. La sostituiremo con le schermate definitive.',
    },
    auth: {
      title: 'Accesso account',
      subtitle: 'Registrati come cliente, ristoratore, oppure entrambi.',
      modeLabel: 'Modalità accesso',
      signIn: 'Accedi',
      signUp: 'Registrati',
      firstName: 'Nome',
      lastName: 'Cognome',
      email: 'Email',
      password: 'Password',
      roleLegend: 'Tipologia di utenza',
      roleClient: 'Cliente',
      roleRestaurant: 'Ristoratore',
      roleHint: 'Seleziona almeno una tipologia.',
      clientData: 'Dati cliente',
      paymentMethod: 'Metodo di pagamento',
      preferences: 'Preferenze',
      paymentSelectPlaceholder: 'Seleziona un metodo di pagamento',
      paymentDelivery: 'Alla consegna',
      paymentCards: 'Carte di credito',
      paymentCoupons: 'Coupon',
      preferencePromo: 'Ristorante con promo',
      preferencePromoHint: 'Metti in evidenza i ristoranti con promo attive.',
      preferenceCheapest: 'Prodotto più economico',
      preferenceCheapestHint: 'Mostra per primi gli articoli più convenienti.',
      preferencePopular: 'Prodotto più richiesto',
      preferencePopularHint: 'Evidenzia i prodotti più ordinati.',
      restaurateurData: 'Dati ristoratore',
      restaurantName: 'Nome ristorante',
      restaurantPhone: 'Telefono',
      vat: 'Partita IVA',
      restaurantAddress: 'Indirizzo ristorante',
      restaurantAddressSearchPlaceholder: 'Cerca indirizzo',
      restaurantAddressSearchAction: 'Cerca',
      restaurantAddressMapHint: "Clicca sulla mappa per selezionare l'indirizzo.",
      restaurantAddressNoResults: 'Nessun indirizzo trovato.',
      restaurantAddressSearchError:
        "Impossibile cercare l'indirizzo al momento.",
      restaurantAddressReverseError:
        "Impossibile recuperare l'indirizzo del punto selezionato.",
      submitCreate: 'Crea account',
      submitSignIn: 'Accedi',
      signupToast: 'Registrazione completata. Ora puoi accedere.',
      signupError: "Impossibile creare l'account al momento.",
      signinError: "Impossibile accedere al momento.",
    },
    dashboard: {
      title: 'Dashboard',
      body: 'Sei autenticato. Qui arriveranno i flussi cliente/ristoratore.',
      clientTitle: 'Dashboard cliente',
      clientBody: "Sei nell'area cliente.",
      restaurantTitle: 'Dashboard ristoratore',
      restaurantBody: "Sei nell'area ristoratore.",
      menuTitle: 'Menu',
      menuBody: 'Consulta i piatti disponibili nel menu del ristorante.',
      menuAction: 'Gestisci menu',
      ordersTitle: 'Ordini',
      ordersBody: 'Gli ordini in arrivo e lo stato sono in arrivo.',
      ordersAction: 'In arrivo',
      menuLoading: 'Caricamento menu…',
      menuEmpty: 'Nessun piatto nel menu.',
      menuError: 'Impossibile caricare il menu.',
      menuAddButton: 'Aggiungi piatti',
      menuAddTitle: 'Aggiungi piatti al menu',
      menuAddDescription: 'Seleziona un piatto dal catalogo per aggiungerlo.',
      menuAddLoading: 'Caricamento piatti…',
      menuAddEmpty: 'Nessun piatto disponibile al momento.',
      menuAddAlready: 'Gia presente nel menu',
      menuAddPrice: 'Prezzo',
      menuAddPhoto: 'Foto (obbligatoria)',
      menuAddPhotoHint: 'Trascina una immagine qui o clicca per selezionare.',
      menuAddMissingPrice: 'Inserisci un prezzo per ogni piatto selezionato.',
      menuAddMissingPhoto: 'Inserisci una foto per ogni piatto selezionato.',
      menuAddStatus: 'Stato',
      menuAddSelect: 'Seleziona',
      menuAddSelected: 'Selezionato',
      menuAddFormHint: 'Imposta prezzo, categoria e carica una foto.',
      menuAddAllAdded: 'Tutti i piatti del catalogo sono gia nel menu.',
      menuAddSuccess: 'Piatto aggiunto al menu.',
      menuAddIngredients: 'Ingredienti',
      menuAddIngredientsHint: 'Deseleziona gli ingredienti da rimuovere.',
      menuAddConfirm: 'Aggiungi selezionati',
      menuAddSaving: 'Salvataggio…',
      menuAddCancel: 'Annulla',
      menuAddError: 'Impossibile caricare i piatti.',
      menuAddSaveError: 'Impossibile aggiornare il menu.',
      menuCreateAction: 'Crea piatto',
      menuCreateTitle: 'Crea un nuovo piatto',
      menuCreateDescription: 'Aggiungi un piatto personalizzato al menu.',
      menuCreateBreadcrumb: 'Crea il tuo',
      menuCreateName: 'Nome',
      menuCreateIngredients: 'Ingredienti',
      menuCreateIngredientsHint:
        'Seleziona gli ingredienti e controllali qui sotto.',
      menuCreateAddIngredient: 'Ingrediente',
      menuCreateSubmit: 'Crea piatto',
      menuCreateMissingName: 'Inserisci il nome del piatto.',
      menuCreateMissingCategory: 'Seleziona una categoria.',
      menuCreateMissingIngredients: 'Aggiungi almeno un ingrediente.',
      menuCreateError: 'Impossibile creare il piatto.',
      menuCreateSuccess: 'Piatto creato e aggiunto al menu.',
      menuTableName: 'Nome',
      menuTableType: 'Categoria',
      menuTablePrice: 'Prezzo',
      menuTableOrigin: 'Origine',
      menuTableImage: 'Immagine',
      menuTableActions: 'Azioni',
      menuTablePrev: 'Precedente',
      menuTableNext: 'Successiva',
      menuTablePage: 'Pagina',
      menuTableOf: 'di',
      menuNoImage: 'Nessuna immagine',
      menuDetailClose: 'Chiudi',
      menuDetailPrice: 'Prezzo',
      menuDetailType: 'Tipologia',
      menuDetailOrigin: 'Origine',
      menuDetailCategory: 'Categoria',
      menuDetailTitle: 'Dettagli del piatto',
      menuDetailBody: 'Consulta i dettagli e aggiorna prezzo o foto.',
      menuDetailBack: 'Torna al menu',
      menuDetailNotFound: 'Piatto non trovato nel menu.',
      menuDetailUpdateTitle: 'Aggiorna i dettagli del piatto',
      menuDetailUpdatePrice: 'Prezzo',
      menuDetailUpdatePhoto: 'Foto',
      menuDetailUpdatePhotoHint:
        'Trascina una immagine qui o clicca per selezionare.',
      menuDetailUpdateAction: 'Aggiorna piatto',
      menuDetailUpdateSaving: 'Aggiornamento…',
      menuDetailUpdateError: 'Impossibile aggiornare il piatto.',
      menuDetailUpdateSuccess: 'Piatto aggiornato con successo.',
      menuDetailDeleteAction: 'Elimina piatto',
      menuDetailDeleteSaving: 'Eliminazione…',
      menuDetailIngredients: 'Ingredienti',
      menuDetailIngredientsHint: 'Deseleziona gli ingredienti da rimuovere.',
      menuDeleteAction: 'Elimina piatto',
      menuDeleteTitle: 'Eliminare questo piatto?',
      menuDeleteDescription:
        'Il piatto verra rimosso dal menu. Potrai aggiungerlo di nuovo piu tardi.',
      menuDeleteConfirm: 'Elimina piatto',
      menuDeleteCancel: 'Annulla',
      menuDeleteSuccess: 'Piatto rimosso dal menu.',
      menuDeleteError: 'Impossibile rimuovere il piatto.',
      menuOriginCatalog: 'Catalogo',
      menuOriginCustom: 'Custom',
      menuTypeCatalog: 'Catalogo',
      menuTypeCustom: 'Custom',
      switchToRestaurant: 'Passa al ristoratore',
      switchToClient: 'Passa al cliente',
    },
    clientDashboard: {
      searchTitle: 'Ricerca ristorante',
      searchBody: 'Sfoglia i ristoranti disponibili e apri i loro menu.',
      searchAction: 'Cerca ristoranti',
      ordersTitle: 'Ordini',
      ordersBody: 'Controlla i tuoi ordini e il loro stato.',
      ordersAction: 'Vai agli ordini',
      cartTitle: 'Carrello',
      cartBody: 'Rivedi gli articoli nel carrello prima del pagamento.',
      cartAction: 'Vai al carrello',
    },
    clientRestaurants: {
      title: 'Ricerca ristorante',
      body: 'Seleziona un ristorante per consultare il menu.',
      loading: 'Caricamento ristoranti…',
      error: 'Impossibile caricare i ristoranti.',
      tableName: 'Ristorante',
      tableAddress: 'Indirizzo',
      tablePhone: 'Telefono',
      tableActions: 'Azioni',
      viewMenu: 'Apri menu',
      empty: 'Nessun ristorante disponibile al momento.',
    },
    clientMenu: {
      title: 'Menu ristorante',
      body: 'Sfoglia i piatti disponibili.',
      notFound: 'Ristorante non trovato.',
      unknownRestaurant: 'Menu ristorante',
      goToCart: 'Vai al carrello',
      loading: 'Caricamento menu…',
      error: 'Impossibile caricare il ristorante.',
      menuError: 'Impossibile caricare il menu.',
      tableActions: 'Aggiungi',
      addToCart: 'Aggiungi al carrello',
      addedToCart: '{name} aggiunto al carrello.',
      empty: 'Nessun piatto disponibile al momento.',
      backToRestaurants: 'Torna ai ristoranti',
    },
    clientCart: {
      title: 'Carrello',
      body: 'Rivedi gli articoli richiesti.',
      tableRestaurant: 'Ristorante',
      tableItem: 'Articolo',
      tableQty: 'Qtà',
      tablePrice: 'Prezzo',
      tableTotal: 'Totale',
      empty: 'Il carrello è vuoto.',
      subtotal: 'Subtotale',
      increaseQty: 'Aumenta quantità',
      decreaseQty: 'Riduci quantità',
      checkoutTitle: 'Completa acquisto',
      checkoutBody: 'Seleziona metodo di pagamento e tipologia ordine.',
      recapTitle: 'Riepilogo ordine',
      recapSubtotal: 'Subtotale articoli',
      recapDeliveryFee: 'Costo consegna',
      recapTotal: 'Totale',
      recapEta: 'Tempo stimato di consegna',
      recapEtaMinutes: '{minutes} min',
      recapEtaPickup: '30 min',
      paymentMethod: 'Metodo di pagamento',
      deliveryMethod: 'Tipologia ordine',
      deliveryOption: 'Consegna',
      pickupOption: 'Da asporto',
      deliveryAddress: 'Indirizzo di consegna',
      deliveryAddressRequired: "L'indirizzo di consegna è obbligatorio.",
      checkoutAction: 'Completa acquisto',
      checkoutSuccess: 'Ordine inviato con successo.',
      removeTitle: 'Rimuovere articolo?',
      removeDescription: 'Vuoi rimuovere questo articolo dal tuo ordine?',
      removeConfirm: 'Rimuovi articolo',
      removeCancel: 'Mantieni articolo',
    },
    clientOrders: {
      title: 'Ordini',
      body: 'Consulta gli ordini recenti e lo stato attuale.',
      empty: 'Nessun ordine disponibile.',
      placedOn: 'Effettuato il {date}',
      unknownRestaurant: 'Ristorante',
      orderType: 'Tipologia ordine',
      typeDelivery: 'Consegna',
      typePickup: 'Asporto',
      deliveryFee: 'Costo consegna',
      eta: 'Tempo stimato',
      etaMinutes: '{minutes} min',
      total: 'Totale',
      itemsTitle: 'Articoli',
      statusPreparation: 'In preparazione',
      statusReadyForPickup: 'Pronto per ritiro',
      statusDelivered: 'Consegnato',
    },
    settings: {
      title: 'Impostazioni utente',
      subtitle: 'Aggiorna i dati profilo e aggiungi ruoli extra.',
      loading: 'Caricamento profilo...',
      backToDashboard: 'Torna alla dashboard',
      roleLegend: 'Tipologia di utenza',
      roleHint: 'I ruoli attuali sono bloccati. Puoi aggiungerne uno.',
      submit: 'Salva modifiche',
      updateSuccess: 'Profilo aggiornato.',
      updateError: 'Impossibile aggiornare il profilo al momento.',
      deleteProfile: 'Elimina profilo',
      deleteProfileTitle: 'Eliminare il profilo?',
      deleteProfileDescription:
        "Questa azione disattiva l'account e ti disconnette. Non potrai accedere.",
      deleteProfileConfirm: 'Elimina profilo',
      deleteProfileCancel: 'Annulla',
      deleteSuccess: 'Profilo disattivato.',
      deleteError: 'Impossibile eliminare il profilo al momento.',
    },
  },
}

export const normalizeLang = (value, fallback = DEFAULT_LANG) => {
  if (!value) return fallback
  const lower = value.toLowerCase()
  const match = SUPPORTED_LANGS.find(
    (lang) => lower === lang || lower.startsWith(`${lang}-`)
  )
  return match ?? fallback
}

export const getInitialLang = () => {
  if (typeof window === 'undefined') return DEFAULT_LANG
  const stored = window.localStorage.getItem(STORAGE_KEY)
  if (stored) return normalizeLang(stored)
  return normalizeLang(window.navigator?.language)
}

export const setStoredLang = (lang) => {
  if (typeof window === 'undefined') return
  window.localStorage.setItem(STORAGE_KEY, lang)
}

const resolveKey = (source, key) =>
  key.split('.').reduce((acc, part) => acc?.[part], source)

export const createT = (lang) => {
  const langSource = translations[lang] ?? translations[DEFAULT_LANG]

  return (key, vars) => {
    const value = resolveKey(langSource, key)
    const fallback = resolveKey(translations[DEFAULT_LANG], key)
    const resolved = value ?? fallback ?? key

    if (typeof resolved !== 'string') return resolved
    if (!vars) return resolved
    return resolved.replace(/\{(\w+)\}/g, (match, token) =>
      Object.prototype.hasOwnProperty.call(vars, token) ? vars[token] : match
    )
  }
}
